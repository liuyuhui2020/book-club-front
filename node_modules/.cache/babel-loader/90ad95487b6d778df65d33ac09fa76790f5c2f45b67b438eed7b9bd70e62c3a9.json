{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventList(){const[events,setEvents]=useState([]);const[city,setCity]=useState(\"上海\");const navigate=useNavigate();useEffect(()=>{fetch(\"https://book-club-backend-97no.onrender.com/api/events?city=\".concat(city)).then(res=>res.json()).then(data=>setEvents(data));},[city]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsxs(\"select\",{value:city,onChange:e=>setCity(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u4E0A\\u6D77\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u5317\\u4EAC\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u6DF1\\u5733\"})]}),/*#__PURE__*/_jsx(\"div\",{children:events.map(ev=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigate(\"/events/\".concat(ev.id)),style:{border:'1px solid #ccc',margin:10,padding:10},children:[/*#__PURE__*/_jsx(\"img\",{src:ev.image,alt:\"\",style:{width:'100%',maxWidth:300}}),/*#__PURE__*/_jsx(\"div\",{children:ev.name}),/*#__PURE__*/_jsx(\"div\",{children:new Date(ev.start_time).toLocaleString()}),/*#__PURE__*/_jsxs(\"div\",{children:[ev.current_participants,\" / \",ev.max_participants]})]},ev.id))})]});}export default EventList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","EventList","events","setEvents","city","setCity","navigate","fetch","concat","then","res","json","data","style","padding","children","value","onChange","e","target","map","ev","onClick","id","border","margin","src","image","alt","width","maxWidth","name","Date","start_time","toLocaleString","current_participants","max_participants"],"sources":["/Users/liuyuhui/Study/LLM/Python/workspace/book-club/frontend/src/components/EventList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction EventList() {\n  const [events, setEvents] = useState([]);\n  const [city, setCity] = useState(\"上海\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetch(`https://book-club-backend-97no.onrender.com/api/events?city=${city}`)\n      .then(res => res.json())\n      .then(data => setEvents(data));\n  }, [city]);\n\n  return (\n    <div style={{ padding: 20 }}>\n      <select value={city} onChange={(e) => setCity(e.target.value)}>\n        <option>上海</option>\n        <option>北京</option>\n        <option>深圳</option>\n      </select>\n      <div>\n        {events.map(ev => (\n          <div key={ev.id} onClick={() => navigate(`/events/${ev.id}`)} style={{ border: '1px solid #ccc', margin: 10, padding: 10 }}>\n            <img src={ev.image} alt=\"\" style={{ width: '100%', maxWidth: 300 }} />\n            <div>{ev.name}</div>\n            <div>{new Date(ev.start_time).toLocaleString()}</div>\n            <div>{ev.current_participants} / {ev.max_participants}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\nexport default EventList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACda,KAAK,gEAAAC,MAAA,CAAgEJ,IAAI,CAAE,CAAC,CACzEK,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIT,SAAS,CAACS,IAAI,CAAC,CAAC,CAClC,CAAC,CAAE,CAACR,IAAI,CAAC,CAAC,CAEV,mBACEJ,KAAA,QAAKa,KAAK,CAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAAAC,QAAA,eAC1Bf,KAAA,WAAQgB,KAAK,CAAEZ,IAAK,CAACa,QAAQ,CAAGC,CAAC,EAAKb,OAAO,CAACa,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAAD,QAAA,eAC5DjB,IAAA,WAAAiB,QAAA,CAAQ,cAAE,CAAQ,CAAC,cACnBjB,IAAA,WAAAiB,QAAA,CAAQ,cAAE,CAAQ,CAAC,cACnBjB,IAAA,WAAAiB,QAAA,CAAQ,cAAE,CAAQ,CAAC,EACb,CAAC,cACTjB,IAAA,QAAAiB,QAAA,CACGb,MAAM,CAACkB,GAAG,CAACC,EAAE,eACZrB,KAAA,QAAiBsB,OAAO,CAAEA,CAAA,GAAMhB,QAAQ,YAAAE,MAAA,CAAYa,EAAE,CAACE,EAAE,CAAE,CAAE,CAACV,KAAK,CAAE,CAAEW,MAAM,CAAE,gBAAgB,CAAEC,MAAM,CAAE,EAAE,CAAEX,OAAO,CAAE,EAAG,CAAE,CAAAC,QAAA,eACzHjB,IAAA,QAAK4B,GAAG,CAAEL,EAAE,CAACM,KAAM,CAACC,GAAG,CAAC,EAAE,CAACf,KAAK,CAAE,CAAEgB,KAAK,CAAE,MAAM,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAE,CAAC,cACtEhC,IAAA,QAAAiB,QAAA,CAAMM,EAAE,CAACU,IAAI,CAAM,CAAC,cACpBjC,IAAA,QAAAiB,QAAA,CAAM,GAAI,CAAAiB,IAAI,CAACX,EAAE,CAACY,UAAU,CAAC,CAACC,cAAc,CAAC,CAAC,CAAM,CAAC,cACrDlC,KAAA,QAAAe,QAAA,EAAMM,EAAE,CAACc,oBAAoB,CAAC,KAAG,CAACd,EAAE,CAACe,gBAAgB,EAAM,CAAC,GAJpDf,EAAE,CAACE,EAKR,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CACA,cAAe,CAAAtB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}